{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://udemy-plus/webpack/bootstrap","webpack://udemy-plus/webpack/runtime/make namespace object","webpack://udemy-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","document.addEventListener('DOMContentLoaded', () => {\n    const openModalBtn = document.querySelectorAll('.open-modal')\n    const modalEl = document.querySelector('.wp-block-udemy-plus-auth-modal')\n\n    const modalClosEl = document.querySelectorAll(\n        '.modal-overlay, .modal-btn-close'\n    )\n\n    openModalBtn.forEach(el => {\n        el.addEventListener('click', event => {\n            event.preventDefault()\n            \n            modalEl.classList.add('modal-show')\n\n        })\n    })\n\n    modalClosEl.forEach(el => {\n        el.addEventListener('click', event => {\n            event.preventDefault()\n            \n            modalEl.classList.remove('modal-show')\n\n        })    \n    })\n\n    const tabs = document.querySelectorAll('.tabs a')\n    const signinForm = document.querySelector('#signin-tab')\n    const signupForm = document.querySelector('#signup-tab')\n\n\n    tabs.forEach(tab => {\n        tab.addEventListener('click', event => {\n            event.preventDefault()\n\n            tabs.forEach(currentTab => {\n                currentTab.classList.remove('active-tab')\n            })\n\n            event.currentTarget.classList.add('active-tab')\n\n            const activeTab = event.currentTarget.getAttribute('href')\n\n            if(activeTab === '#signin-tab') {\n                signinForm.style.display = 'block'\n                signupForm.style.display = 'none'\n            } else {\n                signupForm.style.display = 'block'\n                signinForm.style.display = 'none'            }\n        })\n    })\n\n    signupForm.addEventListener('submit', async event => {\n        event.preventDefault()\n\n        const signupFieldset = signupForm.querySelector('fieldset')\n        signupFieldset.setAttribute('disabled', true)\n\n        const signupStatus = signupForm.querySelector('#signup-status')\n        signupStatus.innerHTML = `\n            <div class=\"modal-status modal-status-info\">\n                Please wait! We are creating your account.\n            </div>\n        `\n        const formData = {\n            username: signupForm.querySelector('#su-name').value,\n            email: signupForm.querySelector('#su-email').value,\n            password: signupForm.querySelector('#su-password').value\n        }\n\n        const response = await fetch(up_auth_rest.signup, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        });\n\n        const responseJSON = await response.json()\n\n        if(responseJSON.status === 2) {\n            signupStatus.innerHTML = `\n                <div class=\"modal-status modal-status-success\">\n                    You have successfully created an account!\n                </div>\n            `\n            location.reload()\n        } else { \n            signupFieldset.removeAttribute('disabled')\n            signupStatus.innerHTML = `\n            <div class=\"modal-status modal-status-danger\">\n                Unable to create account! Please try again later.\n            </div>\n            `\n        }\n    })\n\n    signinForm.addEventListener('submit', async event => {\n        event.preventDefault()\n\n        const signinFieldset = signinForm.querySelector('fieldset')\n        signinFieldset.setAttribute('disabled', true)\n\n        const signinStatus = signinForm.querySelector('#signin-status')\n        signinStatus.innerHTML = `\n            <div class=\"modal-status modal-status-info\">\n                Please wait! We are logging you in.\n            </div>\n        `\n        const formData = {\n            user_login: signinForm.querySelector('#si-email').value,\n            password: signinForm.querySelector('#si-password').value\n        }\n\n        const response = await fetch(up_auth_rest.signin, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(formData)\n        });\n\n        const responseJSON = await response.json()\n\n        if(responseJSON.status === 2) {\n            signinStatus.innerHTML = `\n                <div class=\"modal-status modal-status-success\">\n                    You have successfully logged in!\n                </div>\n            `\n            location.reload()\n        } else { \n            signinFieldset.removeAttribute('disabled')\n            signinStatus.innerHTML = `\n            <div class=\"modal-status modal-status-danger\">\n                Unable to authenticate! Please try again.\n            </div>\n            `\n        }\n    })\n\n})"],"names":["document","addEventListener","openModalBtn","querySelectorAll","modalEl","querySelector","modalClosEl","forEach","el","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signinFieldset","signinStatus","user_login","signin"],"sourceRoot":""}